<script>
  import { appWindow } from "@tauri-apps/api/window";

  let isOnTop = false;

  function handleToggle() {
    appWindow.setAlwaysOnTop(!isOnTop);
    isOnTop = !isOnTop;
  }
</script>

<!-- svelte-ignore a11y-click-events-have-key-events -->
<div class="sticky" on:click={handleToggle}>
  {#if !isOnTop}
    <svg
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M6.32 1.5c-.625 0-1.022.478-1.022 1.03 0 .534.487.973 1.022.97l1.692.003v4.526c0 .134-.113.264-.208.36l-4.156 4.77a.508.508 0 0 0-.147.358l-.001.803a1 1 0 0 0 1.01 1.012l6.482.001.007 6.6a1 1 0 0 0 1 .998h.021a1 1 0 0 0 1-1v-6.597l6.48-.002c.55 0 1-.452.999-1.012l.001-.804a.51.51 0 0 0-.15-.36l-4.144-4.769c-.092-.092-.186-.221-.186-.356V3.505l1.69-.005c.71 0 1.024-.603 1.024-.98 0-.616-.484-1.02-1.024-1.02H6.32Zm3.737 2.002L14.06 3.5l.006 5.419 3.826 4.416-11.698-.003L10.06 8.9l-.003-5.398Z"
        fill="#2B2F36"
      />
    </svg>
  {:else}
    <svg
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M2.205 1.193a1 1 0 0 0 0 1.414l19.092 19.092a1 1 0 0 0 1.415-1.414L3.62 1.193a1 1 0 0 0-1.415 0Zm1.443 11.965 3.239-3.717 1.443 1.443-2.135 2.448 4.584.001 2.241 2.24v6.358a1 1 0 0 1-1 1h-.021a1 1 0 0 1-1-.999l-.007-6.599-6.482-.001A1 1 0 0 1 3.5 14.32v-.803c0-.134.053-.264.148-.359Zm14.245.177h-.034l1.948 1.948a1.01 1.01 0 0 0 .692-.963v-.804a.51.51 0 0 0-.149-.36l-4.144-4.769c-.092-.092-.186-.221-.186-.356V3.505l1.69-.005c.71 0 1.024-.604 1.024-.98 0-.617-.484-1.02-1.024-1.02H6.32c-.094 0-.182.01-.265.03l4.003 4.004-.001-2.032L14.06 3.5l.006 5.419 3.826 4.416Z"
        fill="#2B2F36"
      />
    </svg>
  {/if}
</div>

<style>
  .sticky {
    display: flex;
    justify-content: end;
    margin-bottom: 10px;
  }
</style>
